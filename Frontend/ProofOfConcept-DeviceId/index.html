<h1>ReSign DeviceId Test Website</h1>


<script>
	const permissionsToRequest = {
		permissions: ["camera"],
		//origins: ["https://developer.mozilla.org/"]
	}

	browser.permissions.request(permissionsToRequest)
	.then(response => {
		console.log("Got permission: " + response);
	})

	
	if (!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices) {
	  document.write("enumerateDevices() not supported.<br>");
	}else {
		// List cameras and microphones (all devices where we have permissions)

		navigator.mediaDevices.enumerateDevices()
		.then(function(devices) {
		  devices.forEach(function(device) {
			  if(device.kind === 'videoinput')
				if(device.deviceId == undefined)
					

				document.write("Camera: " + device.deviceId);
		  });
		})
		.catch(function(err) {
		  document.write(err.name + ": " + err.message);
		});
	}

</script>

